(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[0],{39:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(17),a=n.n(c),s=(n(39),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))}),r=n(10),o=(n(40),n(12)),d=1,l=function(){return("undefined"!==typeof localStorage.recipes?JSON.parse(localStorage.getItem("recipes")):Math.random()).length},j=n(50),u=n(51),b=n(55),p=n(4);var h=function(e){var t=e.onFormSubmit,n=e.onShow,i=e.setIngredients,c=e.setName,a=e.setIsShowModal,s=e.newRecipe,r=e.isPostDisabled;return Object(p.jsxs)(j.a,{show:n,onHide:function(){a(!1)},children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"New Recipe"})}),Object(p.jsx)(j.a.Body,{children:Object(p.jsxs)(u.a,{action:"#",className:"add-review__form",onSubmit:t,children:[Object(p.jsxs)(u.a.Group,{controlId:"recipeName",children:[Object(p.jsx)(u.a.Label,{children:"Recipe Name"}),Object(p.jsx)(u.a.Control,{type:"text",required:!0,onChange:c,defaultValue:s.name,placeholder:"Enter Name","data-testid":"name"})]}),Object(p.jsxs)(u.a.Group,{controlId:"recipeIngredients",children:[Object(p.jsx)(u.a.Label,{children:"Recipe Ingredients"}),Object(p.jsx)(u.a.Control,{type:"text",required:!0,onChange:i,defaultValue:s.ingredients,placeholder:"Enter Ingredients(separate by commas)","data-testid":"ingredients"})]}),Object(p.jsx)(b.a,{variant:"success",type:"submit",disabled:r,children:"Save Recipe"})]})})]})};var O=function(e){var t=e.onShow,n=e.setIsShowModal,c=e.setRecipes,a=e.recipes,s=Object(i.useState)({id:l(),name:"",ingredients:""}),j=Object(r.a)(s,2),u=j[0],b=j[1],O=Object(i.useState)(!0),m=Object(r.a)(O,2),g=m[0],f=m[1];return Object(i.useEffect)((function(){u.name.length>d&&u.ingredients.length>d?f(!1):f(!0)}),[u]),Object(p.jsx)(h,{onFormSubmit:function(e){e.preventDefault();var t=l();b(Object(o.a)(Object(o.a)({},u),{},{id:t})),function(e){var t=a.slice();t.push(e),c(t),b({id:l(),name:"",ingredients:""})}(u),n(!1)},onShow:t,setName:function(e){return b(Object(o.a)(Object(o.a)({},u),{},{name:e.target.value}))},setIngredients:function(e){return b(Object(o.a)(Object(o.a)({},u),{},{ingredients:e.target.value}))},setIsPostDisabled:f,setIsShowModal:n,newRecipe:u,isPostDisabled:g})},m=(n(45),n(49)),g=n(53),f=n(54),x=n(52),S=n(48);var v=function(e){var t=e.onShow,n=e.setIsShowEditModal,i=e.handleFormSubmit,c=e.recipe,a=e.setIngredients,s=e.setName,r=e.isPostDisabled;return Object(p.jsxs)(j.a,{show:t,onHide:function(){n(!1)},children:[Object(p.jsx)(j.a.Header,{closeButton:!0,children:Object(p.jsx)(j.a.Title,{children:"Edit Recipe"})}),Object(p.jsx)(j.a.Body,{children:Object(p.jsxs)(u.a,{action:"#",className:"add-review__form",onSubmit:i,children:[Object(p.jsxs)(u.a.Group,{controlId:"recipeName",children:[Object(p.jsx)(u.a.Label,{children:"Recipe Name"}),Object(p.jsx)(u.a.Control,{type:"text",required:!0,onChange:s,defaultValue:c.name,placeholder:"Enter Name","data-testid":"name"})]}),Object(p.jsxs)(u.a.Group,{controlId:"recipeIngredients",children:[Object(p.jsx)(u.a.Label,{children:"Recipe Ingredients"}),Object(p.jsx)(u.a.Control,{type:"text",required:!0,onChange:a,defaultValue:c.ingredients,placeholder:"Enter Ingredients(separate by commas)","data-testid":"ingredients"})]}),Object(p.jsx)(b.a,{variant:"success",type:"submit",disabled:r,children:"Save Recipe"})]})})]})};var w=function(e){var t=e.onShow,n=e.setIsShowEditModal,c=e.recipe,a=e.id,s=e.setRecipes,l=e.recipes,j=Object(i.useState)(!0),u=Object(r.a)(j,2),b=u[0],h=u[1],O=Object(i.useState)({id:c.id,name:c.name,ingredients:c.ingredients}),m=Object(r.a)(O,2),g=m[0],f=m[1];return Object(i.useEffect)((function(){g.name.length>d&&g.ingredients.length>d?h(!1):h(!0)}),[g]),Object(p.jsx)(v,{recipe:c,onShow:t,setIsShowEditModal:n,handleFormSubmit:function(e){e.preventDefault(),function(e,t){var n=l.slice(),i=n.findIndex((function(t){return t.id===e}));n.splice(i,1,t),s(n)}(a,g),n(!1)},setName:function(e){return f(Object(o.a)(Object(o.a)({},g),{},{name:e.target.value}))},setIngredients:function(e){return f(Object(o.a)(Object(o.a)({},g),{},{ingredients:e.target.value}))},isPostDisabled:b})};var I=function(e){var t=e.recipe,n=e.ingredients,i=e.onBtnEditClick,c=e.onBtnDeleteClick,a=e.setRecipes,s=e.id,r=e.isShowEditModal,o=e.setIsShowEditModal,d=e.recipes;return Object(p.jsxs)(f.a,{children:[Object(p.jsx)(g.a.Toggle,{as:f.a.Header,eventKey:t.id+1,className:"d-flex justify-content-between",children:Object(p.jsx)("p",{className:"mb-0",children:t.name})}),Object(p.jsx)(g.a.Collapse,{eventKey:t.id+1,children:Object(p.jsxs)("div",{className:"p-3",children:[Object(p.jsx)(x.a,{className:"mb-3",children:n.map((function(e){return Object(p.jsx)(x.a.Item,{children:e},"ingridient-".concat(e))}))}),Object(p.jsxs)(S.a,{children:[Object(p.jsx)(b.a,{className:"mr-2",variant:"outline-secondary",size:"sm",onClick:i,children:"Edit"}),Object(p.jsx)(b.a,{variant:"outline-danger",size:"sm",onClick:function(){c(s)},children:"Delete"})]}),Object(p.jsx)(w,{onShow:r,setIsShowEditModal:o,recipe:t,recipes:d,setRecipes:a,id:s})]})})]})};var N=function(e){var t,n,c=e.recipe,a=e.setRecipes,s=e.id,o=e.recipes,d=(t=c.ingredients,n=",",t.split(n)),l=Object(i.useState)(!1),j=Object(r.a)(l,2),u=j[0],b=j[1],h=Object(i.useCallback)((function(){b(!u)}),[u]);return Object(p.jsx)(I,{id:s,ingredients:d,recipe:c,onBtnEditClick:h,onBtnDeleteClick:function(e){var t=o.slice(),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),a(t)},setRecipes:a,isShowEditModal:u,setIsShowEditModal:b,recipes:o})};var C=function(e){var t=e.recipesMocks,n=Object(i.useState)(!1),c=Object(r.a)(n,2),a=c[0],s=c[1],o=function(e,t){var n=Object(i.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(i){return console.log(i),t}})),c=Object(r.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(i){console.log(i)}}]}("recipes",t),d=Object(r.a)(o,2),l=d[0],j=d[1],u=Object(i.useCallback)((function(){s(!a)}),[a]);return Object(p.jsxs)(m.a,{className:"pt-5",children:[Object(p.jsx)("h1",{className:"mb-5 text-center",children:"It's a recipes app! You're welcome!"}),Object(p.jsx)(g.a,{className:"mb-4",children:l.map((function(e){return Object(p.jsx)(N,{recipe:e,id:e.id,recipes:l,setRecipes:j},"recipe-".concat(e.id))}))}),Object(p.jsx)(b.a,{variant:"info",size:"lg",onClick:u,children:"Add recipe"}),Object(p.jsx)(O,{onShow:a,setIsShowModal:s,setRecipes:j,recipes:l})]})};a.a.render(Object(p.jsx)(C,{recipesMocks:[{id:0,name:"Beef & Broccoli",ingredients:"Beef, Broccoli, Cream, Salt, Paper"},{id:1,name:"Banana milkshake",ingredients:"Bananas, Milk, Ice cream"},{id:2,name:"Pizza",ingredients:"Dough, Fresh basil leaves, Pinch red pepper flakes, Mozzarella"}]}),document.getElementById("root")),s()}},[[46,1,2]]]);
//# sourceMappingURL=main.04977f4d.chunk.js.map
(this["webpackJsonprecipe-app"]=this["webpackJsonprecipe-app"]||[]).push([[0],{39:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(17),a=n.n(c),s=(n(39),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))}),r=[{id:0,name:"Beef & Broccoli",ingredients:"Beef, Broccoli, Cream, Salt, Paper"},{id:1,name:"Banana milkshake",ingredients:"Bananas, Milk, Ice cream"},{id:2,name:"Pizza",ingredients:"Dough, Fresh basil leaves, Pinch red pepper flakes, Mozzarella"}],o=n(10),d=(n(40),n(12)),l=1,j=function(){var e=localStorage.recipes?JSON.parse(localStorage.getItem("recipes")):r,t=[];return e.forEach((function(e){t.push(e.id)})),Math.max.apply(null,t)+1},u=n(50),b=n(51),p=n(55),h=n(4);var O=function(e){var t=e.onFormSubmit,n=e.onShow,i=e.setIngredients,c=e.setName,a=e.setIsShowModal,s=e.newRecipe,r=e.isPostDisabled;return Object(h.jsxs)(u.a,{show:n,onHide:function(){a(!1)},children:[Object(h.jsx)(u.a.Header,{closeButton:!0,children:Object(h.jsx)(u.a.Title,{children:"New Recipe"})}),Object(h.jsx)(u.a.Body,{children:Object(h.jsxs)(b.a,{action:"#",className:"add-review__form",onSubmit:t,children:[Object(h.jsxs)(b.a.Group,{controlId:"recipeName",children:[Object(h.jsx)(b.a.Label,{children:"Recipe Name"}),Object(h.jsx)(b.a.Control,{type:"text",required:!0,onChange:c,defaultValue:s.name,placeholder:"Enter Name","data-testid":"name"})]}),Object(h.jsxs)(b.a.Group,{controlId:"recipeIngredients",children:[Object(h.jsx)(b.a.Label,{children:"Recipe Ingredients"}),Object(h.jsx)(b.a.Control,{type:"text",required:!0,onChange:i,defaultValue:s.ingredients,placeholder:"Enter Ingredients(separate by commas)","data-testid":"ingredients"})]}),Object(h.jsx)(p.a,{variant:"success",type:"submit",disabled:r,children:"Save Recipe"})]})})]})};var m=function(e){var t=e.onShow,n=e.setIsShowModal,c=e.setRecipes,a=e.recipes,s=Object(i.useState)({id:j(),name:"",ingredients:""}),r=Object(o.a)(s,2),u=r[0],b=r[1];console.log(u);var p=Object(i.useState)(!0),m=Object(o.a)(p,2),g=m[0],f=m[1];return Object(i.useEffect)((function(){u.name.length>l&&u.ingredients.length>l?f(!1):f(!0)}),[u]),Object(h.jsx)(O,{onFormSubmit:function(e){e.preventDefault(),b(Object(d.a)(Object(d.a)({},u),{},{id:j()})),function(e){var t=a.slice();t.push(e),c(t),b({id:j(),name:"",ingredients:""})}(u),n(!1)},onShow:t,setName:function(e){return b(Object(d.a)(Object(d.a)({},u),{},{name:e.target.value}))},setIngredients:function(e){return b(Object(d.a)(Object(d.a)({},u),{},{ingredients:e.target.value}))},setIsPostDisabled:f,setIsShowModal:n,newRecipe:u,isPostDisabled:g})},g=(n(45),n(49)),f=n(53),x=n(54),S=n(52),v=n(48);var w=function(e){var t=e.onShow,n=e.setIsShowEditModal,i=e.handleFormSubmit,c=e.recipe,a=e.setIngredients,s=e.setName,r=e.isPostDisabled;return Object(h.jsxs)(u.a,{show:t,onHide:function(){n(!1)},children:[Object(h.jsx)(u.a.Header,{closeButton:!0,children:Object(h.jsx)(u.a.Title,{children:"Edit Recipe"})}),Object(h.jsx)(u.a.Body,{children:Object(h.jsxs)(b.a,{action:"#",className:"add-review__form",onSubmit:i,children:[Object(h.jsxs)(b.a.Group,{controlId:"recipeName",children:[Object(h.jsx)(b.a.Label,{children:"Recipe Name"}),Object(h.jsx)(b.a.Control,{type:"text",required:!0,onChange:s,defaultValue:c.name,placeholder:"Enter Name","data-testid":"name"})]}),Object(h.jsxs)(b.a.Group,{controlId:"recipeIngredients",children:[Object(h.jsx)(b.a.Label,{children:"Recipe Ingredients"}),Object(h.jsx)(b.a.Control,{type:"text",required:!0,onChange:a,defaultValue:c.ingredients,placeholder:"Enter Ingredients(separate by commas)","data-testid":"ingredients"})]}),Object(h.jsx)(p.a,{variant:"success",type:"submit",disabled:r,children:"Save Recipe"})]})})]})};var I=function(e){var t=e.onShow,n=e.setIsShowEditModal,c=e.recipe,a=e.id,s=e.setRecipes,r=e.recipes,j=Object(i.useState)(!0),u=Object(o.a)(j,2),b=u[0],p=u[1],O=Object(i.useState)({id:c.id,name:c.name,ingredients:c.ingredients}),m=Object(o.a)(O,2),g=m[0],f=m[1];return Object(i.useEffect)((function(){g.name.length>l&&g.ingredients.length>l?p(!1):p(!0)}),[g]),Object(h.jsx)(w,{recipe:c,onShow:t,setIsShowEditModal:n,handleFormSubmit:function(e){e.preventDefault(),function(e,t){var n=r.slice(),i=n.findIndex((function(t){return t.id===e}));n.splice(i,1,t),s(n)}(a,g),n(!1)},setName:function(e){return f(Object(d.a)(Object(d.a)({},g),{},{name:e.target.value}))},setIngredients:function(e){return f(Object(d.a)(Object(d.a)({},g),{},{ingredients:e.target.value}))},isPostDisabled:b})};var N=function(e){var t=e.recipe,n=e.ingredients,i=e.onBtnEditClick,c=e.onBtnDeleteClick,a=e.setRecipes,s=e.id,r=e.isShowEditModal,o=e.setIsShowEditModal,d=e.recipes;return Object(h.jsxs)(x.a,{children:[Object(h.jsx)(f.a.Toggle,{as:x.a.Header,eventKey:t.id+1,className:"d-flex justify-content-between",children:Object(h.jsx)("p",{className:"mb-0",children:t.name})}),Object(h.jsx)(f.a.Collapse,{eventKey:t.id+1,children:Object(h.jsxs)("div",{className:"p-3",children:[Object(h.jsx)(S.a,{className:"mb-3",children:n.map((function(e){return Object(h.jsx)(S.a.Item,{children:e},"ingridient-".concat(e))}))}),Object(h.jsxs)(v.a,{children:[Object(h.jsx)(p.a,{className:"mr-2",variant:"outline-secondary",size:"sm",onClick:i,children:"Edit"}),Object(h.jsx)(p.a,{variant:"outline-danger",size:"sm",onClick:function(){c(s)},children:"Delete"})]}),Object(h.jsx)(I,{onShow:r,setIsShowEditModal:o,recipe:t,recipes:d,setRecipes:a,id:s})]})})]})};var C=function(e){var t,n,c=e.recipe,a=e.setRecipes,s=e.id,r=e.recipes,d=(t=c.ingredients,n=",",t.split(n)),l=Object(i.useState)(!1),j=Object(o.a)(l,2),u=j[0],b=j[1],p=Object(i.useCallback)((function(){b(!u)}),[u]);return Object(h.jsx)(N,{id:s,ingredients:d,recipe:c,onBtnEditClick:p,onBtnDeleteClick:function(e){var t=r.slice(),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),a(t)},setRecipes:a,isShowEditModal:u,setIsShowEditModal:b,recipes:r})};var E=function(e){var t=e.recipesMocks,n=Object(i.useState)(!1),c=Object(o.a)(n,2),a=c[0],s=c[1],r=function(e,t){var n=Object(i.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(i){return console.log(i),t}})),c=Object(o.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(i){console.log(i)}}]}("recipes",t),d=Object(o.a)(r,2),l=d[0],j=d[1],u=Object(i.useCallback)((function(){s(!a)}),[a]);return Object(h.jsxs)(g.a,{className:"pt-5",children:[Object(h.jsx)("h1",{className:"mb-5 text-center",children:"It's a recipes app! You're welcome!"}),Object(h.jsx)(f.a,{className:"mb-4",children:l.map((function(e){return Object(h.jsx)(C,{recipe:e,id:e.id,recipes:l,setRecipes:j},"recipe-".concat(e.id))}))}),Object(h.jsx)(p.a,{variant:"info",size:"lg",onClick:u,children:"Add recipe"}),Object(h.jsx)(m,{onShow:a,setIsShowModal:s,setRecipes:j,recipes:l})]})};a.a.render(Object(h.jsx)(E,{recipesMocks:r}),document.getElementById("root")),s()}},[[46,1,2]]]);
//# sourceMappingURL=main.d7c25afe.chunk.js.map